> 台湾岛的地理数据来源：[countries shape file](https://international.ipums.org/international/resources/gis/IPUMSI_world_release2020.zip)

台湾可分为两类：all（台湾岛及周边岛屿）和main（仅包含台湾岛），区别见下图：

![image.png](https://raw.githubusercontent.com/yzh-2002/img-hosting/main/notes/202409062135490.png)
![image.png](https://raw.githubusercontent.com/yzh-2002/img-hosting/main/notes/202409062136851.png)
## 网格划分逻辑

首先寻找需要划分区域的边界，将边界构成的大矩形划分为一个个小矩形（代码中划分为边长为$\frac{2.5}{\sqrt{2}}$的正方形）。

以台湾岛为例，划分之后的图示：
![image.png](https://raw.githubusercontent.com/yzh-2002/img-hosting/main/notes/202409062141308.png)


然后遍历划分的小矩形，将与台湾地图（台湾地图的描述为多边形）存在交点的小矩形保留即可。（python第三方库`shapely`中定义的多边形自带`intersects`方法来判断是否存在交点）

筛选掉不相交的小矩形之后图示：
![image.png](https://raw.githubusercontent.com/yzh-2002/img-hosting/main/notes/202409062142353.png)
## 最终结果


1. `all.json`：对台湾岛及周围岛屿划分
2. `main.json`：仅对台湾岛进行划分


