> 5.19日 18:00 前 论文整体内容过一遍
> 5.20日 14:00 前 细读，理清楚模糊的点
> 

[论文代码](https://github.com/linjiebelfast/Compliance-Evaluation-of-Database-Application-Systems)
## Abstract

已实现的数据库应用系统与其<font color="#ff0000">数据标准描述文件</font>之间的<font color="#ff0000">一致性程度</font>，将显著影响企业基于数据标准文件进行数据资产评估的准确性。本研究提出了一种<font color="#ff0000">自动化发现和校准</font>这些一致性字段的方法，大幅降低了人工评估成本。

>Q：数据标准描述文件指什么？
   A：文中给出了示例，[示例文件](https://github.com/linjiebelfast/Compliance-Evaluation-of-Database-Application-Systems/blob/main/Doc/CJJT%20257-2017%20%E4%BD%8F%E5%AE%85%E4%B8%93%E9%A1%B9%E7%BB%B4%E4%BF%AE%E8%B5%84%E9%87%91%E7%AE%A1%E7%90%86%E5%9F%BA%E7%A1%80%E4%BF%A1%E6%81%AF%E6%95%B0%E6%8D%AE%E6%A0%87%E5%87%86.pdf)
   Q：一致性指什么？
   A：个人理解，数据库系统中数据表定义的各个字段与数据标准描述文件中各个字段的一致程度（含义，是否缺失...）

我们将<font color="#ff0000">字段对齐问题</font>建模为对<font color="#ff0000">两个独立图结构的实体匹配计算</font>，这两个图分别构建于应用系统数据库及其数据规范标准之上。我们提出了一种新的多视图实体对齐方法，该方法通过公共视图建模实体的全局结构信息，同时利用特定视图建模实体周边的关联关系，并将这些信息整合到实体表示中以评估匹配相似度并过滤异常字段。

> Q：实体对齐是什么？
   A：在知识图谱中，实体对齐是指将不同来源或不同知识图谱中的相同实体进行匹配的过程。比如，一个知识图谱中的“苹果公司”和另一个中的“Apple Inc.”其实是同一个实体，需要对齐。

为了计算匹配度，我们采用<font color="#ff0000">稳定匹配算法</font>，生成标准符合性评估指标的估计值。我们基于公开数据集DBP15K评估了多视图图对齐模型的性能，实验结果证明了所提方法较原始方法的优越性。

## Introduction

在企业应用场景中，随着系统的迭代更新、建设过程中的优化考虑，或数据库应用软件的升级，数据库应用系统与数据规范标准文件之间可能会出现不匹配的情况。此外，数据规范标准的不断更新也可能导致两者之间产生不一致，从而影响系统质量。

此外，由于数据库的复杂性，进行全面的人工分析会产生高昂的成本。因此，迫切需要一种自动化方法，用于在数据规范标准与数据库应用系统之间匹配相同内容，从而识别不匹配项，并有效评估数据资产。这一过程，即评估数据库应用系统与其数据规范标准描述文件之间一致性的过程，被称为**数据应用系统合规性评估**。

合规性验证问题可以被视为一个<font color="#ff0000">字段匹配问题</font>。

在数据库应用系统开发过程中，数据规范标准的制定与数据库应用系统的开发通常是两个相对独立的阶段，导致<font color="#ff0000">实际数据库字段的命名可能与数据规范标准中定义的字段不同</font>。

IBM 的“InfoSphere QualityStage”工具利用机器学习通过列名和数据类型对元数据进行自动标注，加速元数据分类过程。尽管如此，某些字段缺乏明确的业务语义，仍使得直接字段匹配变得困难。为解决这一问题，我们提出通过**字段与关系联合**的方式来提高匹配的有效性。数据规范标准和数据库应用系统都以数据表的形式描述数据字段，但二维表形式不足以充分表达字段之间的关系。因此，在字段建模过程中融入完整的<font color="#ff0000">字段关系信息</font>成为提升匹配结果的关键。我们构建了<font color="#ff0000">由字段（作为节点）和关系（作为边）组成的图结构</font>。具体而言，我们使用不同关系构建的图来分别表示每个数据库应用系统与数据规范标准，从而将匹配问题转化为<font color="#ff0000">实体对齐任务</font>。

当前主流的实体对齐方法通常采用表示学习的方式，将图中的实体嵌入到低维向量空间中。随后，利用预对齐的实体种子（Alignment Seeds），将来自不同图的实体映射到共同的向量空间，通过实体表示向量之间的相似性计算实现实体对齐。

> Q：什么是Alignment Seeds？
> A：预先人工标注或通过规则确定的少量跨图谱实体对，作为对齐的“锚点”。不同知识图谱的向量空间独立训练，直接比较无意义，利用预对齐种子，学习一个映射函数（例如矩阵变换），将两个向量空间统一。统一空间后，直接计算不同图谱实体向量的相似度。

Translation-based Models
> Q：什么是Translation-based Models？
> A：一类通过模仿几何空间中的“平移”操作（类似向量加减）来建模知识图谱中实体和关系的模型。核心思想：几何平移。例如：若存在关系三元组 (h,r,t)（头实体 h、关系 r、尾实体 t），则头实体向量加上关系向量应接近尾实体向量。
> 常用模型：
> 1. transE：直接将关系视为头尾实体向量的平移。
> 2. transR：将实体和关系投影到不同空间后再平移
> 3. rotateE

基于图卷积网络（GCN）的模型。然而，GCN 模型通常适用于同构图，在处理包含多种关系类型的复杂异构图时，可能无法充分考虑关系的多样性。为了解决这一问题，已经提出了一些改进模型，如 MuGNN、HGCN、RDGCN、TransEdge等，它们在异构图中更加全面地考虑了多种关系类型。然而，尽管做出了这些改进，许多基于关系嵌入的实体对齐方法在利用多样化关系信息方面仍然存在不足，通常只是采用简单的关系转换或对头尾实体的表示向量求平均来表示关系，难以有效地将关系信息融入到实体表示中。

本研究的主要贡献包括：
- **我们定义了数据库应用系统图和数据规范标准图中的节点与关系**，为构建两个多视图图奠定了基础；
- **我们结合Translation-based Models与 GCN 类方法的优势，提出了一种创新的多视图实体对齐方法**，该方法能够同时建模实体的结构特征与多种关系类型的信息。该方法巧妙地使用通用视图嵌入表示实体的全局结构特征，同时利用特定视图嵌入捕捉不同关系的细节信息，并将这些关系细节隐式整合到实体表示中；
- **我们提出了数据应用系统合规性评估指标**，包括实现率（realization ratio）、冗余率（redundancy ratio）和滞后率（lag ratio），用于衡量数据库应用系统图与数据规范标准图之间的匹配程度；
- **基于匹配的业务字段结果**，我们能够生成完整的业务语义描述，帮助企业更深入地理解其数据资产，推动数据系统的优化与提升。

## Related Work

数据字段匹配：
如果将数据标准视为按照该标准实现的数据库的元数据，那么数据合规性验证就可以看作是标准数据库与实际数据库之间的字段匹配问题。
数据字段匹配方法大致可分为两类：一类是基于**元数据层级匹配**，通过使用字段名称、数据类型、约束条件和模式结构等元数据属性作为匹配特征，另一类是基于**实例层级匹配**，使用通用字符串相似性技术进行比较。
大多数已有方法依赖于**文本相似性**，旨在从匹配的数据字段或元数据中提取共同模式。然而，某些字段缺乏明确的业务语义，使得直接字段匹配难以达到预期精度。我们认为，除了字段和元数据本身的文本信息之外，数据表和字段之间的**连接关系与约束关系**也能提供有效的信息支持。因此，通过利用元数据与实例数据构建字段之间的关系图，在该图上的实体对齐能够同时融合元数据级、实例级和连接关系级的信息，从而提供更准确的匹配估计。

实体对齐：
近年来，表示学习（representation learning）已成为实体对齐领域的主流方法

数据资产：
和论文本身没什么关系？给人一种凑字数的感觉

## Our Approach

### Overall Architecture
合规性验证问题本质上是一个数据规范标准与对应数据库应用系统之间的字段匹配问题。本文通过为两者构建相应的多视图图，并对这些图进行对齐，从而解决该匹配问题。

首先，我们定义数据规范标准与数据库应用系统的关系集，并为每一方构建相应的图结构。<font color="#ff0000">数据规范标准（记为 Doc）以文档形式存在</font>，包含表名及表字段信息，如字段名称、字段属性、字段描述等。我们将这些字段及部分字段间的关系建模为图，记作 G₁ = (E₁, R₁)，其中实体集 E₁ 表示 Doc 中的字段集合，关系集 R₁ 表示这些字段之间的关系。<font color="#ff0000">数据库应用系统（记为 DB）主要采用关系型数据库进行数据存储</font>，可以通过 SQL 语句提取表字段及列的相关信息。据此，我们定义相应的图结构 G₂ = (E₂, R₂)，其中实体集 E₂ 表示 DB 中的字段集合，关系集 R₂ 表示这些字段之间的关系。

随后，基于<font color="#ff0000">预对齐实体对集合</font> S = {(u, v) | u ∈ E₁, v ∈ E₂}，我们将 G₁ 与 G₂ 的实体对齐任务定义为：在<font color="#ff0000">已有对齐基础上发现新的实体对齐关系</font>。为此，我们采用所提出的多视图实体对齐模型。具体来说，公共视图嵌入用于捕捉实体的全局结构信息，而特定视图嵌入用于表示多种类型的关系信息。


最终，在获得实体对齐结果后，我们通过相似度阈值过滤异常字段集合 Eₐ，即那些仅存在于数据规范标准或数据库应用系统中、不应匹配的字段，得出最终的匹配结果。

### Multi-relational Graphs Construction

数据规范标准详尽地描述了表中各字段的信息，包括字段名称、数据类型、长度、小数位数、是否允许为空、是否为主键、默认值及字段描述等。在数据库应用系统的实现过程中，严格遵循数据规范标准是至关重要的。与数据规范标准相比，数据库应用系统最显著的区别在于其包含实际的数据实例。

根据数据规范标准的描述，我们需从文档中提取出表结构信息，包括：
- 表集合：T = {T₁, T₂, ..., Tₙ}，其中 n 表示表的数量；
- 列集合：C = {}；
- 字段名称集合：N = {}；
- <font color="#ff0000">字段描述</font>集合：D = {}；
- 字段属性集合：A = {}。

提取出的表结构信息可用于构建字段实体及其关系，从而形成表示数据规范标准的多视图图 G₁ = (E₁, R₁)。图 G₁ 中，实体集合 E₁ 包括<font color="#ff0000">表和字段</font>；当字段满足某些规则集合 R₁ 时，即可生成三元组，所有实体和三元组构成 G₁ 的节点和边。
字段结构分析中定义的规则集 R₁ 包括：见论文表2

对于一个数据库应用系统 DB，其由一个表集合 T = {T₁, T₂, ..., Tₙ} 构成，n 表示表的数量。我们从中构建：
- 列集合：C = {}
- 字段名称集合：N = {}
- <font color="#ff0000">字段值</font>集合：V = {}
- 字段属性集合：A = {}

基于这些信息，构建表示数据库应用系统的多视图图 G₂ = (E₂, R₂)，其中实体集 E₂ 包含表与字段，当字段满足<font color="#ff0000">规则集</font> R₂ 中的某条规则时，就生成一个三元组。所有实体和三元组构成 G₂ 的节点和边。
规则集 R₂ 包括：见论文表3

---
上述内容主要阐述如何对数据进行建模。
### Multi-view Entity Alignment Model
考虑到数据规范标准图与数据库应用系统图中存在多种类型的关系，我们提出了一种融合**通用视图嵌入**与**特定视图嵌入**的**多视图实体对齐模型**，以更好地完成实体对齐任务。
在**通用视图**中，我们将所有关系类型视为一种统一类型，从而构建一个单关系图，类似于传统的图神经网络（GNN）方法，能够有效捕捉实体的拓扑结构信息。然而，这种方法不足以充分表达实体信息，因为它忽略了关系类型之间的差异。
为了解决这一问题，我们引入**特定视图**，用以提取与实体相关的不同类型的关系。通过结合通用视图和特定视图的嵌入结果，我们能获得更全面的实体表示，这对于实体对齐任务是有益的。
#### Common-view Embedding

不仅采用了 GCN-Align 模型来实现通用视图嵌入，还引入了layer-wise highway gates，以平衡从邻居节点传播的信息与跨层噪声传播之间的关系，从而优化节点表示。

>Q：什么是GCN-Align？2018年的模型，[论文链接](https://arxiv.org/abs/1905.11605)
   A：[[GNN]]
   Q：什么是layer-wise highway gates？
   A：包含两个组件：$H^{l+1}=T\cdot H\_transformed + C\cdot H^{l}$，类似于LSTM中的门控结构
   1. Transform gate：控制有多少当前层的变换结果会被传递到下一层
   2. Carry gate控制有多少原始输入信息会直接传递到下一层

论文中<font color="#ff0000">邻接矩阵A的构造</font>需要关注下

#### Specific-view Embedding

**特定视图嵌入**的目的是区分不同类型的关系，通过考虑各种关系类型对实体的影响，为结构特征提供补充信息。

受 TransEdge 模型启发，我们引入基于translation strategy的关系转换方法用于建模特定视图嵌入。

>Q：什么是TransEdge？（2019年）
>A：TransE模型（2013年）的改进版本：
>1. TransE为每个关系赋予固定的平移向量 r，TransEdge 将关系表示为头尾实体的交互函数，也即$r=f(h,t)$
>2. TransE 严格约束 h+r=t，导致模型对复杂关系（如一对多、多对一）的建模能力不足，TransEdge 引入**软边界条件**，允许实体和关系在嵌入空间中以一定误差对齐，增强灵活性
>3. TransE 仅建模单条关系，忽略知识图谱中多跳路径的语义，TransEdge 通过显式建模路径信息（如随机游走或注意力机制），增强关系的上下文感知能力。

如何得到关系实体的嵌入表示？
1. $w_{(h,t)}=\sigma([h:t]W_1+b_1)$，h，t是由common-view embedding阶段得到的头尾实体的emb
2. $r_{single}=r-w_{(h,t)}^Trw_{(h,t)}$
	1. $w_{(h,t)}^Trw_{(h,t)}$：将关系向量 r 投影到该上下文方向
	2. 不想 `r` 过多地重复实体上下文中已经隐含的信息，让关系嵌入 `r_single` 更突出<font color="#ff0000">与实体组合互补的语义</font>，即 “补充信息”。
3. $r_{all}=\sigma([\hat{H_{er}}:\hat{T_{er}}]W_2+b_2)$，$\hat{H_{er}}$表示与关系 r 相关的所有头实体的平均嵌入
4. $r_{final}=r_{all}+r_{single}$


为了同时结合特定视图和通用视图特征，并融合多关系类型信息，我们使用$L_T$（三元组损失）作为关系转换的目标函数，$L_A$（对齐损失）作为实体对齐的目标函数。最终目标函数是这两者的加权组合

### Database Application System Compliance Evaluation

某些字段可能仅出现在数据库应用系统或数据规范标准中，从而形成无法匹配的异常字段。这些异常字段缺乏语义信息，给相关人员理解其用途和功能带来了困难。
本文将异常字段分为两类：新增字段（数据库应用系统）和废弃字段（数据规范标准）。

为识别这些异常字段，我们对实体对齐模型的输出结果进行筛选，使用训练过程中确定的最小相似度值作为**相似度阈值（sim threshold）**。根据对齐方向的不同，相似度阈值分为两类：`sim_threshold_doc2db` 和 `sim_threshold_db2doc`。
- 当从数据规范标准字段对齐至数据库应用系统字段时，如果匹配相似度低于 `sim_threshold_doc2db`，则该字段被判定为**废弃字段**。
- 当从数据库应用系统字段对齐至数据规范标准字段时，如果匹配相似度低于 `sim_threshold_db2doc`，则该字段被判定为**新增字段**。
在筛除异常字段之后，剩余字段将继续进行对齐处理。

## 实验
略

## Code


